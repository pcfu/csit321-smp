<% content_for :page_js do %>
  admin/model_parameters/index
<% end %>

<div class="container mt-5">
  <h1>Model Training Parameters </h1>
  <h2>Price Prediction & Recommendation</h2>
  <hr/>


  <table class="table" id="model-list" class="table table-striped ">
    <thead>
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Model Type</th>
        <th scope="col">Parameters</th>
        <th scope="col">Active</th>
        <th scope="col" colspan="2">Action</th>
      </tr>
    </thead>
    <tbody>
      <% @models.each do |model| %>
        <tr data-link ="<%= admin_model_parameter_url(id:model) %>">
          <td><%= model.name %></td>
          <td><%= model.model_type %></td>
          <td><%= model.params %></td>
          <td><%= check_boolean(model.active) %></td>
          <td class="unclickable" >
            <% if model.active == false %>
              <button>
                <%= link_to 'Delete', admin_model_parameters_delete_path(id:model),  method: :destroy, data: { confirm: 'Confirm to delete the parameters', title: "Confirmation" } %>
              </button> 
              <button>
                <%= link_to 'Set Active', admin_model_parameters_setActive_path(id:model),  method: :post, data: { confirm: 'Confirm to set this set of parameters active?', title: "Confirmation" } %>
              </button>
            <% else %>
              -
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <%= link_to "New Parameters", "model_parameters/new", class: 'btn btn-primary' %>
</div>
